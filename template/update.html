{% extends "base.html" %}

{% block content %}
<!-- Single Page Header start -->
<div class="container-fluid page-header py-5">
    <h1 class="text-center text-white display-6 wow fadeInUp" data-wow-delay="0.1s">Shop</h1>
    <ol class="breadcrumb justify-content-center mb-0 wow fadeInUp" data-wow-delay="0.3s">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Pages</a></li>
        <li class="breadcrumb-item active text-white">Update Product</li>
    </ol>
</div>
<!-- Single Page Header End -->




<!-- Update Product Page -->
<div class="container-fluid contact py-5">
    <div class="container py-5">
        <div class="p-5 bg-light rounded">
            <div class="row g-4">

                <div class="col-lg-7">
                    <h5 class="text-primary wow fadeInUp" data-wow-delay="0.1s">Letâ€™s Work</h5>
                    <h1 class="display-5 mb-4 wow fadeInUp" data-wow-delay="0.3s">Update Products</h1>
                    <p class="mb-4 wow fadeInUp" data-wow-delay="0.5s">You can update products in this page by
                        filling the form and click on the update button.</p>

                    <!-- Flash Messages: This will display any error/success/status messages to the user -->
                    {% for category, message in get_flashed_messages(with_categories=True) %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                    {% endfor %}

                    <form method="post" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token }}">


                        <div class="row g-4 wow fadeInUp" data-wow-delay="0.1s">
                            <div class="col-lg-12 col-xl-6">
                                <div class="form-floating">
                                    <input name="product_name" type="text" class="form-control" id="name"
                                        placeholder="Product Name" value="{{ product['product_name'] }}">

                                    <label for="name">Product Name</label>
                                </div>
                            </div>
                            <div class="col-lg-12 col-xl-6">
                                <div class="form-floating">
                                    <input name="product_price" type="number" class="form-control" id="email"
                                        placeholder="Product Price" value="{{ product['product_price'] }}">
                                    <label for="email">Product Price</label>
                                </div>
                            </div>
                            <div class="col-lg-12 col-xl-6">
                                <div class="form-floating">

                                    <select name="product_category" class="form-select" id="category"
                                        aria-label="Category select">
                                        <option value="" {% if product['product_category']=="" %}selected{% endif %}>
                                            Select Category</option>
                                        <option value="Electronics" {% if product['product_category']=="Electronics"
                                            %}selected{% endif %}>Electronics</option>
                                        <option value="Stationery" {% if product['product_category']=="Stationery"
                                            %}selected{% endif %}>Stationery</option>
                                        <option value="Fashion" {% if product['product_category']=="Fashion"
                                            %}selected{% endif %}>Fashion</option>
                                        <option value="Laptops" {% if product['product_category']=="Laptops"
                                            %}selected{% endif %}>Laptops</option>
                                        <option value="Smartphones" {% if product['product_category']=="Smartphones"
                                            %}selected{% endif %}>Smartphones</option>
                                        <option value="Clothings" {% if product['product_category']=="Clothings"
                                            %}selected{% endif %}>Household Items</option>
                                        <option value="Sports" {% if product['product_category']=="Sports" %}selected{%
                                            endif %}>Sports</option>
                                        <option value="Entertainment" {% if product['product_category']=="Entertainment"
                                            %}selected{% endif %}>Entertainment</option>
                                        <option value="Accessories" {% if product['product_category']=="Accessories"
                                            %}selected{% endif %}>Accessories</option>
                                        <option value="Gadgets" {% if product['product_category']=="Gadgets"
                                            %}selected{% endif %}>Gadgets</option>
                                        <option value="Furniture" {% if product['product_category']=="Furniture"
                                            %}selected{% endif %}>Furniture</option>
                                        <option value="Other" {% if product['product_category']=="Other" %}selected{%
                                            endif %}>Other</option>
                                    </select>
                                    <label for="phone">Product Category</label>
                                </div>
                            </div>
                            <div class="col-lg-12 col-xl-6">
                                <div class="form-floating">
                                    <input name="product_brand" type="text" class="form-control" id="project"
                                        placeholder="Product Brand" value="{{ product['product_brand'] }}">
                                    <label for="project">Product Brand</label>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    <input name="product_image" type="file" accept="image/*" class="form-select"
                                        id="subject" placeholder="Product Profile Image"
                                        value="{{ product['product_image'] }}">
                                    <label for="subject">Product Profile Image</label>
                                </div>

                            </div>
                            <div class="col-lg-12 col-xl-4">
                                <div class="form-floating">
                                    <input name="product_gallery1" type="file" accept="image/*" class="form-select"
                                        id="phone" placeholder="Product Gallery 1"
                                        value="{{ product['product_gallery1'] }}">
                                    <label for="phone">Product Gallery 1</label>
                                </div>
                            </div>
                            <div class="col-lg-12 col-xl-4">
                                <div class="form-floating">
                                    <input name="product_gallery2" type="file" accept="image/*" class="form-select"
                                        id="project" placeholder="Product Gallery 2"
                                        value="{{ product['product_gallery2'] }}">
                                    <label for="project">Product Gallery 2</label>
                                </div>
                            </div>
                            <div class="col-lg-12 col-xl-4">
                                <div class="form-floating">
                                    <input name="product_gallery3" type="file" accept="image/*" class="form-select"
                                        id="project" placeholder="Product Gallery 3"
                                        value="{{ product['product_gallery3'] }}">
                                    <label for="project">Product Gallery 3</label>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    <input name="product_description" class="form-control" id="message"
                                        style="height: 60px" placeholder="Product Short Description"
                                        value="{{ product['product_description'] }}">
                                    <label for="message">Product Description</label>
                                </div>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-primary w-100 py-3">Update</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col-lg-5 wow fadeInUp" data-wow-delay="0.2s">
                    <div class="h-100 rounded">

                        <div class="featured-product mb-4">
                            <br>
                            <h1 class="display-5 mb-4 wow fadeInUp" data-wow-delay="0.3s">Product Images</h1>
                            <p class="mb-4 wow fadeInUp" data-wow-delay="0.5s">You can preview the images you uploaded
                                here.</p>

                            <div class="row g-4">




                                <div class="col-6">
                                    <div
                                        class="featured-product-item d-flex flex-column align-items-center text-center">
                                        <div class="rounded mb-2 d-flex align-items-center justify-content-center"
                                            style="width: 100%; height: 210px; background-color: #f8f9fa;">
                                            {% if product['product_image'] %}

                                            <img src="{{ product['product_image'] }}" class="img-fluid rounded"
                                                style="height: 100%; width: 100%; object-fit: contain;"
                                                alt="Product Image">
                                            {% else %}
                                            <p class="text-muted">No image available</p>
                                            {% endif %}

                                        </div>
                                        <div>
                                            <h6 class="mb-2" style="font-size: 14px;">Product Profile Image</h6>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <div
                                        class="featured-product-item d-flex flex-column align-items-center text-center">
                                        <div class="rounded mb-2 d-flex align-items-center justify-content-center"
                                            style="width: 100%; height: 210px; background-color: #f8f9fa;">
                                            {% if product['product_gallery1'] %}

                                            <img src="{{ product['product_gallery1'] }}" class="img-fluid rounded"
                                                style="height: 100%; width: 100%; object-fit: contain;"
                                                alt="Product Gallery Image1">
                                            {% else %}
                                            <p class="text-muted">No image available</p>
                                            {% endif %}

                                        </div>
                                        <div>
                                            <h6 class="mb-2" style="font-size: 14px;">Product Gallery 1</h6>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <div
                                        class="featured-product-item d-flex flex-column align-items-center text-center">
                                        <div class="rounded mb-2 d-flex align-items-center justify-content-center"
                                            style="width: 100%; height: 210px; background-color: #f8f9fa;">
                                            {% if product['product_gallery2'] %}

                                            <img src="{{ product['product_gallery2'] }}" class="img-fluid rounded"
                                                style="height: 100%; width: 100%; object-fit: contain;"
                                                alt="Product Gallery Image2">
                                            {% else %}
                                            <p class="text-muted">No image available</p>
                                            {% endif %}

                                        </div>
                                        <div>
                                            <h6 class="mb-2" style="font-size: 14px;">Product Gallery 2</h6>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <div
                                        class="featured-product-item d-flex flex-column align-items-center text-center">
                                        <div class="rounded mb-2 d-flex align-items-center justify-content-center"
                                            style="width: 100%; height: 210px; background-color: #f8f9fa;">
                                            {% if product['product_gallery3'] %}

                                            <img src="{{ product['product_gallery3'] }}" class="img-fluid rounded"
                                                style="height: 100%; width: 100%; object-fit: contain;"
                                                alt="Product Gallery Image3">
                                            {% else %}
                                            <p class="text-muted">No image available</p>
                                            {% endif %}

                                        </div>
                                        <div>
                                            <h6 class="mb-2" style="font-size: 14px;">Product Gallery 3</h6>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <form method="post" action="{{ url_for('delete', id=product['id']) }}"
                                onsubmit="return confirm('Are you sure you want to delete this product?');">
                                <div class="d-flex justify-content-center my-4">

                                    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
                                    <button type="submit" class="btn btn-primary px-4 py-3 rounded-pill w-100">Delete
                                        Product</button>

                                </div>
                            </form>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<!-- Update Product End -->


{% endblock %}